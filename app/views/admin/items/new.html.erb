<div class="container">
  <div class="row my-3">
    <div class="my-auto py-auto">
      <span class="rounded bg-light py-2 px-3 font-weight-bold">商品新規登録</span>
    </div>
  </div>

  <div>
    <%= form_with model: [:admin, @item] do |f| %>

      <% if @item.errors.any? %>
      <%= @item.errors.count %>件のエラーが発生しました
      <ul>
        <% @item.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
      </ul>
      <% end %>

      <div>
        <table class="table ml-5">
          <tr class="field">
            <td><%= f.label "商品画像" %></td>
            <td><%= f.file_field :image, accept: "image/*" %></td>
          </tr>
          <tr class="field">
            <td><%= f.label "商品名" %></td>
            <td><%= f.text_field :name, placeholder: "商品名" %></td>
          </tr>
          <tr class="field">
            <td><%= f.label "商品説明" %></td>
            <td><%= f.text_area :text, placeholder: "ここに説明文を記述します" %></td>
          </tr>
          <tr class="field">
            <td><%= f.label "ジャンル" %></td>
            <td><%= f.collection_select :genre_id, @genres, :id, :name, {prompt: "--選択してください--"} %></td>
            <!--%= f.select :genre_id, @genres.map{ |genre| [genre.name,@item.genre_id=genre.id]} %-->
          </tr>
          <tr class="field">
            <td><%= f.label "税抜き価格" %></td>
            <td>
              <%= f.text_field :non_taxed_price, placeholder: "1000" %>
              <%= f.label "円" %>
            </td>
          </tr>
          <tr class="field">
            <td><%= f.label "販売ステータス" %></td>
            <td>
            <%= f.radio_button :is_active, true %>
            <%= f.label :is_active, '販売中', value: true %>
            <%= f.radio_button :is_active, false %>
            <%= f.label :is_active, '販売停止中', value: false %>
            </td>
          </tr>
        </table>
      </div>
      <div class="text-center">
        <%= f.submit "新規登録", class: "btn btn-success" %>
      </div>
    <% end %>
  </div>
</div>
